# Lecture 2: Shell (cont.) 🐚

> September 11, 2018

#### Absolute vs Relative Path 

If the path is /a/b/c/d/, and you are at b, relative path is c/d/

#### Basic Commands

| Command                  | Description                                                  |
| ------------------------ | ------------------------------------------------------------ |
| `.`                      | Refer to the current directory                               |
| `..`                     | Refer to the parent directory                                |
| `../..`                  | Grandparent directory                                        |
| `pwd`                    | Present working directory                                    |
| `~`                      | Shorthand for the user’s home directory                      |
| `ls`                     | Listing, shows non-hidden files                              |
| `ls -a`                  | Lists all files                                              |
| `cd`                     | Change directory                                             |
| `cat`                    | Concatenate (ex. /usr/share/dict/words)                      |
| `Ctrl+C`                 | Kill a long/stalled program                                  |
| `Ctrl+D`                 | Sends an EOF signal, no more input available                 |
| `cat > output.txt`       | ==**Output Redirection**== Sends output generated by the program to the file output.txt (will overwrite existing file or create it if it doesn’t exist already) |
| `cat < output.txt`       | ==**Input Redirection**==Note, the shell opens the file & makes the content available to the command |
| `cat output.txt`         | The command cat opens the file to read the content ** different from above because the work is being done by the command |
| TAB                      | Auto complete name                                           |
| `wc`                     | Word count (Lines, Words, Characters)                        |
| `wc <`                   | Try on sample.txt to see difference from above               |
| `>>`                     | Append to the end of a file                                  |
| `cat < in.txt > out.txt` | Copies in.txt to out.txt                                     |
| `cp`                     | Copy                                                         |
| `rm`                     | Remove                                                       |
| `rm -rf *`               | Remove recursively FORCE EVERYTHING                          |
| `sort`                   | Lexicographically sorts                                      |
| `uniq`                   | Removes duplicates (only if they are beside each other)      |
| `awk`                    | Processes text-based data                                    |

**Every linux process is associated to 3 streams**

<u>Standard Input</u> --> Process | --> <u>Standard Output</u>

​							| --> <u>Standard Error</u>

|             | Standard Input (stdin) | Standard Output (stdout) | Standard Error (stderr) |
| ----------- | ---------------------- | ------------------------ | ----------------------- |
| Default     | Keyboard               | Screen                   | Screen                  |
| Change file | `<`                    | `>`                      | `2>`                    |

**Examples:**

- command < in > out 2> err.log
- command > out.txt 2>&1
  - 2>&1 means connect stderr to where stdout is
  - Can replace &1 with out.txt but this will overwrite the file, &1 appends the error into the file
- command 2> out.txt 1>&2
- ==TRY PLAYING WITH THIS==

**Why have standard error stream?**

- Not to clutter expected output
- Error stream is not buffered

## Wildcards

- the shell supports wildcards
- Ex. ls *.txt
- Ex. ls sam*.txt
  - `*` matches anything 
- This is a globbing pattern
  - The shell understands globbing patterns
  - `ls` sees name of files
- ==LOOK AT LINUX COMMANDS HANDOUT==

## Pipe

- Connects stdout of program1 to the stdin of program2

- Ex. prog1 | prog2

  - Essentially does prog1 > temp and prog2 < temp

- Example: How many words occur int he first 20 lines of sample.txt

  ```example
  head -20 sample.txt | wc -w
  cat sample.txt | head -20 | wc -w
  ```

- Suppose files words1.txt, words2.txt, etc. contain lists of words, one per line. Print a duplicate free list of all words

  ```example question
  cat words*.txt | sort | uniq
  ```


